<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Bookmarklet</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
    <ul>
<script type="text/javascript" charset="utf-8">
    var widgetBase = document.location.href.replace('tests/bookmarklet.html', '');
    var windowTitle = 'Edit Triples';
    var href = '\
        href="javascript:void((function() {\
        if (!document.getElementById(\'RDFauthorScript\')) {\
            widgetBase = \'' + widgetBase + '\';\
            var s = document.createElement(\'script\');\
            s.type = \'text/javascript\';\
            s.src = widgetBase + \'src/loader.js\';\
            document.getElementsByTagName(\'head\')[0].appendChild(s);\
        }\
        rdfauthor_loaded_callback = function() {\
            RDFauthor.setOptions({\
                saveButtonTitle: \'Save\',\
                cancelButtonTitle: \'Cancel\',\
                title: {windowTitle},\
                showAddPropertyButton: true,\
            });\
            RDFauthor.startEditing();\
        };\
    })());"';
    
    // rebuild strings
    document.writeln('<li><a ' + href.replace(/[\s]/g, '')
        .replace('vars', 'var s')
        .replace('{windowTitle}', '\'' + windowTitle + '\'') + '>Edit page with RDFauthor</a></li>');
</script>
<script type="text/javascript" charset="utf-8">
    var widgetBase = document.location.href.replace('tests/bookmarklet.html', '');
    var windowTitle = 'Edit Triples';
    var href = '\
        href="javascript:void((function() {\
        if (!document.getElementById(\'RDFauthorScript\')) {\
            widgetBase = \'' + widgetBase + '\';\
            var s = document.createElement(\'script\');\
            s.type = \'text/javascript\';\
            s.src = widgetBase + \'src/loader.js\';\
            document.getElementsByTagName(\'head\')[0].appendChild(s);\
        }\
        rdfauthor_loaded_callback = function() {\
            RDFauthor.setOptions({\
                saveButtonTitle: \'Save\',\
                cancelButtonTitle: \'Cancel\',\
                title: {windowTitle},\
                showAddPropertyButton: true,\
            });\
            RDFauthor.prepareInline(\'*[about]\');\
        };\
    })());"';
    
    // rebuild strings
    document.writeln('<li><a ' + href.replace(/[\s]/g, '')
        .replace('vars', 'var s')
        .replace('{windowTitle}', '\'' + windowTitle + '\'') + '>Edit subjects with RDFauthor</a></li>');
</script>
    </ul>
</body>